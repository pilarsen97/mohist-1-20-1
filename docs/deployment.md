–í–æ—Ç –≥–æ—Ç–æ–≤—ã–π, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π systemd-–∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–≤–æ–µ–≥–æ Mohist-—Å–µ—Ä–≤–µ—Ä–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

–Ø –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–∏–ª —Ç–∞–∫, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏–≥—Ä–æ–≤—ã–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏:
‚úî –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
‚úî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—Ç–∞—Ä—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
‚úî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤
‚úî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ journalctl
‚úî —Ä–∞–±–æ—Ç–∞ –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º pilarsen
‚úî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

‚∏ª

üìÑ 1. –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞

sudo nano /etc/systemd/system/minecraft.service

–í—Å—Ç–∞–≤—å —ç—Ç–æ:

[Unit]
Description=Minecraft Mohist Server
After=network.target

[Service]
# –†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
WorkingDirectory=/path_to/mohist-1-20-1

# –ó–∞–ø—É—Å–∫ —Ç–≤–æ–µ–≥–æ launch.sh
ExecStart=/path_to/launch.sh

# –û—Ç –∏–º–µ–Ω–∏ –∫–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø—É—Å–∫–∞—Ç—å
User=pilarsen

# –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞:
Restart=always
RestartSec=10

# –ß—Ç–æ–±—ã Java —Ä–∞–±–æ—Ç–∞–ª–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ
LimitNOFILE=100000

# –ö—É–¥–∞ –ø–∏—Å–∞—Ç—å –ª–æ–≥–∏
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target


‚∏ª

üîÑ 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º systemd

sudo systemctl daemon-reload


‚∏ª

üöÄ 3. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä

sudo systemctl start minecraft


‚∏ª

üìå 4. –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

sudo systemctl enable minecraft


‚∏ª

üìã 5. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–°—Ç–∞—Ç—É—Å:

sudo systemctl status minecraft

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

sudo systemctl stop minecraft

–ó–∞–ø—É—Å—Ç–∏—Ç—å:

sudo systemctl start minecraft

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:

sudo systemctl restart minecraft

–õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

sudo journalctl -u minecraft -f

–ü–æ—Å–ª–µ–¥–Ω–∏–µ 200 —Å—Ç—Ä–æ–∫:

sudo journalctl -u minecraft -n 200


‚∏ª

üü¶ 6. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚Ä¢	–¢–≤–æ–π launch.sh –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

chmod +x mohist-1-20-1/launch.sh

	‚Ä¢	–í launch.sh –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å sudo –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
‚∏ª
